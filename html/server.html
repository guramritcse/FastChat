<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>server module &mdash; FastChat  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="loadbalancer module" href="loadbalancer.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> FastChat
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">FastChat</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="client.html">client module</a></li>
<li class="toctree-l2"><a class="reference internal" href="loadbalancer.html">loadbalancer module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">server module</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">FastChat</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="modules.html">FastChat</a> &raquo;</li>
      <li>server module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/server.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-server">
<span id="server-module"></span><h1>server module<a class="headerlink" href="#module-server" title="Permalink to this headline"></a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="server.clientthread">
<span class="sig-prename descclassname"><span class="pre">server.</span></span><span class="sig-name descname"><span class="pre">clientthread</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">conn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">addr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#server.clientthread" title="Permalink to this definition"></a></dt>
<dd><p>This is the thread which receives messages from the client and responds accordingly.
Messages are sent from the server to the clients connected to that particular server.
The following codes are received by the server which have the following meaning:</p>
<blockquote>
<div><div class="line-block">
<div class="line">1. cg: Check if the group already exists or not</div>
<div class="line">2. ci: Check if the individual exists or not</div>
<div class="line">3. ng: Create a new group with the client sending the code as admin</div>
<div class="line">4. eg: Check if the group exists and the client sending the code to the server is the admin</div>
<div class="line">5. ai: Add an individual to the group</div>
<div class="line">6. ri: Remove an individual from the group</div>
<div class="line">7. sa: Send the names of all the members of the group to the admin of the group</div>
<div class="line">8. wg: Send the text message in encrypted format to an individual</div>
<div class="line">9. ig: Send an image in an encrypted format to a group</div>
<div class="line">10. wi: Send the text message in encrypted format to an individual</div>
<div class="line">11. ii: Send an image in encrypted format to an individual</div>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>conn</strong> (<em>socket.socket</em>) – It is the connection object of the client which has established a socket connection with the server</p></li>
<li><p><strong>addr</strong> (<em>tuple</em>) – It is the address (ip,port) of the client which has established a socket connection with the server</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="server.letsconnect">
<span class="sig-prename descclassname"><span class="pre">server.</span></span><span class="sig-name descname"><span class="pre">letsconnect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ip</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#server.letsconnect" title="Permalink to this definition"></a></dt>
<dd><p>This function establishes socket connection between the server to the server with the ip and port passed as parameter
The following codes are received by the server which have the following meanings:</p>
<blockquote>
<div><div class="line-block">
<div class="line">1. wi: Send the text message in encrypted format to the server to which the receiver client is connected</div>
<div class="line">2. ii: Send the image in encrypted format to the server to which the receiver client is connected</div>
<div class="line">3. wg: Send the text message sent by a client in a group in encrypted format to the server to which the receiver client (group member) is connected</div>
<div class="line">4. ig: Send the image sent by a client in a group in encrypted format to the server to which the receiver client (group member) is connected</div>
<div class="line">5. gk: Get the encryoted group private key from the loadbalancer</div>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ip</strong> (<em>str</em>) – It is the ip address of the server which wants to establish a socket connection with this server</p></li>
<li><p><strong>port</strong> (<em>str</em>) – It is the port number of the server which wants to establish a socket connection with this server</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="server.main">
<span class="sig-prename descclassname"><span class="pre">server.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#server.main" title="Permalink to this definition"></a></dt>
<dd><p>Accepts a connection request and stores two parameters,
conn which is a socket object for that user, and addr
which contains the IP address of the client that just
connected
It also initiates the client thread</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="server.remove">
<span class="sig-prename descclassname"><span class="pre">server.</span></span><span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#server.remove" title="Permalink to this definition"></a></dt>
<dd><p>Removes the connection of the user with the server and loadbalancer that is change the status of the user from online to offline
The entry in the dictionary with the key as the username of the user is deleted from both the server to which the client is connected and the loadbalancer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> (<em>socket.socket</em>) – Connection with the user which has logged out which needs to be removed</p></li>
<li><p><strong>usr</strong> (<em>str</em>) – The username of the user who has logged out</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="loadbalancer.html" class="btn btn-neutral float-left" title="loadbalancer module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Thrice as Nice.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>